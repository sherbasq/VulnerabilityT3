package testUI;

import org.hamcrest.CoreMatchers;
import org.hamcrest.core.StringContains;
import org.junit.After;
import org.junit.Assert;
import org.junit.Before;
import org.junit.Test;
import pages.HomePage;
import pages.LoginPage;
import pages.SetLoginPage;
import session.Session;

public class LoginTodoistTest {
    HomePage homePage = new HomePage();
    LoginPage loginPage = new LoginPage();
    SetLoginPage setLoginPage = new SetLoginPage();

    @Before
    public void before(){
        Session.getInstance().getDriver().get("https://todoist.com/es");
        Session.getInstance().getDriver().manage().window().maximize();
    }

    @Test
    public void verifyLoginDate(){
        homePage.singToPage.click();
        loginPage.typeEmail.type("afd@trtte.com");
        loginPage.clicRegistro.click();
        setLoginPage.fullName.type("pedro");
        setLoginPage.password.type("12345678");
        setLoginPage.loginButtonFinal.click();
        //Verification
        String text=setLoginPage.textVerification.label();
        Assert.assertThat(text,CoreMatchers.containsString("para empezar a sacar"));

    }



    @After
    public void after(){
        Session.getInstance().closeBrowse();
    }
}
